---
fuel-master: "10.87.65.146"
fuel-master-username: "root"
fuel-master-password: "c0ntrail123"
plugin_version: "5.0.0"
plugin_path: "/var/www/nailgun/plugins/contrail-5.0/"
contrail-package: "/github-build/R3.1/25/ubuntu-14-04/mitaka/contrail-install-packages_3.1.0.0-25~mitaka_all.deb"
plugin: "/root/contrail-5.0-5.0.0-1-594.noarch.rpm"
assign_method: "hw_pin"
debug: true
######################################################################
cluster:
  mode: "ha_compact"
  release_id: 2
  net_provider: "neutron"
  net_segment_type: "tun"
  name: "lab01-contrail"
######################################################################
default_compute_phys: &default_compute_phys
  ens2f1:
    type: "ether"
    assigned_networks:
      - "fuelweb_admin"
      - "management"
      - "storage"
      - "public"
default_compute_virt: &default_compute_virt
  bond0:
    type: "bond"
    assigned_networks:
      - "private"
    slaves:
      -
        name: "ens2f0"
      -
        name: "ens1f1"
    mode: "802.3ad"
    bond_properties:
      lacp_rate: "slow"
      mode: "802.3ad"
      type__: "linux"
      xmit_hash_policy: "layer2"

default_controller_phys: &default_controller_phys
  ens2f1:
    type: "ether"
    assigned_networks:
      - "fuelweb_admin"
      - "management"
      - "storage"
      - "public"
  ens2f0:
    type: "ether"
    assigned_networks:
      - "private"

attributes:
  additional_components:
    sahara: false
    murano: false
    ceilometer: false
  common:
    libvirt_type: "kvm"
  public_network_assignment:
    assign_to_all_nodes: False
  provision:
    method: "image"
plugins:
  contrail:
    enabled: true
    version: 4.0.1
    attributes:
      contrail_global_dpdk: True
      contrail_global_sriov: True
      dpdk_on_vf: False
      #dedicated_analytics_db: False

nets:
  public:
    ip_ranges:
      -
        - "10.87.121.162"
        - "10.87.121.180"
    cidr: "10.87.121.160/27"
    vlan_start: 997
    gateway: "10.87.121.190"
  management:
    ip_ranges:
      -
        - "192.168.202.1"
        - "192.168.202.254"
    cidr: "192.168.202.0/24"
    vlan_start: 202
  storage:
    ip_ranges:
      -
        - "192.168.201.1"
        - "192.168.201.254"
    cidr: "192.168.201.0/24"
    vlan_start: 201
  private:
    ip_ranges:
      -
        - "192.168.203.1"
        - "192.168.203.254"
    cidr: "192.168.203.0/24"
    vlan_start:
networking_parameters:
  floating_ranges:
    -
      - "10.87.121.181"
      - "10.87.121.189"
  internal_cidr: "192.168.111.0/24"
  internal_gateway: "192.168.111.1"
#  vlan_range:
#    - 3361
#    - 3390
######################################################################
nodes:
  cz0001.com:
    l3_ifaces:
      phys_nic_map: *default_compute_phys
      virt_nic_map: *default_compute_virt
    roles:
      - compute
    count: 1
  cz0002.com:
    l3_ifaces:
      phys_nic_map: *default_controller_phys
    roles:
      - controller
    count: 1
  cz0003.com:
    l3_ifaces:
      phys_nic_map: *default_controller_phys
    roles:
      - contrail-db
      - contrail-config
      - contrail-control
      - contrail-analytics
#      - contrail-analytics-db
    count: 1
